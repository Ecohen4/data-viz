<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Basic Axes</title>
    <script type="text/javascript" src="lib/d3.js"></script>
    <style type="text/css">
      // not getting applied :(
      .axis path,
      .axis line {
        fill: none;
        stroke: red;
        stroke-width: 1px;
      }
    </style>
</head>

<body>


<script type="text/javascript">
    // define variables used throughout
    var height = 100,
        width = 500,
        margin = 25,
        axisWidth = width - 2 * margin,
        svg;



    //generate random dataset
    var dataset = [];
    var numDataPoints = 25;
    var xmax = 1000
    for (var i = 0; i < numDataPoints; i++) {
      var newNumber1 = Math.floor(Math.random() * xmax);
      dataset.push([newNumber1]);
    }

    // define scales
    var xScale = d3.scale.linear()
                         .domain([0, xmax])
                         .range([margin, axisWidth])
                         .nice()
                         ;

    function createSvg(){
         svg = d3.select("body").append("svg")
            .attr("width", width)
            .attr("height", height);
    }

    function renderData(){
      svg.selectAll("circle")
         .data(dataset)
         .enter()
         .append("circle")
         .attr("cx", function(d) {
                      return xScale(d[0]);
                    })
         .attr("cy", height-2*margin)
         .attr("r", 3)
         ;
    }

    function renderAxis(scale, orientation){
        var Axis = d3.svg.axis()
            .scale(scale)
            .orient(orientation)
            .ticks(5);

        svg.append("g")
            .attr("class", "axis")
            .attr("transform", "translate(" + 0 + "," + (height-margin) + ")")
            .call(Axis);
    }



    function renderAll(){
        if(svg) svg.remove();

        createSvg();

        renderData();

        renderAxis(xScale, "bottom");
    }

    renderAll()
</script>

</body>

</html>
